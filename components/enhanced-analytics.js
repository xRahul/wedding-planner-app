// Enhanced Analytics Components for All Features
const { useMemo } = React;

// Task Analytics Component
const TaskAnalytics = ({ tasks }) => {
    const stats = useMemo(() => {
        const total = tasks.length;
        const completed = tasks.filter(t => t.status === 'done').length;
        const pending = tasks.filter(t => t.status === 'pending').length;
        const overdue = tasks.filter(t => t.status === 'pending' && t.deadline && new Date(t.deadline) < new Date()).length;
        
        const byPriority = { high: 0, medium: 0, low: 0 };
        const completedByPriority = { high: 0, medium: 0, low: 0 };
        tasks.forEach(t => {
            byPriority[t.priority]++;
            if (t.status === 'done') completedByPriority[t.priority]++;
        });
        
        const byCategory = {};
        tasks.forEach(t => {
            if (!byCategory[t.category]) byCategory[t.category] = { total: 0, completed: 0 };
            byCategory[t.category].total++;
            if (t.status === 'done') byCategory[t.category].completed++;
        });
        
        const upcomingWeek = tasks.filter(t => {
            if (t.status === 'pending' && t.deadline) {
                const diff = (new Date(t.deadline) - new Date()) / (1000 * 60 * 60 * 24);
                return diff >= 0 && diff <= 7;
            }
            return false;
        }).length;
        
        const completionRate = total > 0 ? (completed / total * 100) : 0;
        
        return { total, completed, pending, overdue, byPriority, completedByPriority, byCategory, upcomingWeek, completionRate };
    }, [tasks]);
    
    return (
        <div className="card">
            <h3>ğŸ“Š Task Analytics</h3>
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '12px', marginTop: '16px', marginBottom: '16px' }}>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold', color: 'var(--color-success)' }}>{stats.completionRate.toFixed(0)}%</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Completion Rate</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold' }}>{stats.completed}/{stats.total}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Tasks Done</div>\n                </div>\n                <div style={{ padding: '12px', background: stats.overdue > 0 ? 'rgba(220, 53, 69, 0.1)' : 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold', color: stats.overdue > 0 ? 'var(--color-error)' : 'inherit' }}>{stats.overdue}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Overdue</div>\n                </div>\n                <div style={{ padding: '12px', background: stats.upcomingWeek > 5 ? 'rgba(255, 193, 7, 0.1)' : 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold', color: stats.upcomingWeek > 5 ? 'var(--color-warning)' : 'inherit' }}>{stats.upcomingWeek}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Due This Week</div>\n                </div>\n            </div>\n            
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px' }}>\n                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ¯ Priority Breakdown</h4>\n                    {['high', 'medium', 'low'].map(p => (\n                        <div key={p} style={{ marginBottom: '12px' }}>\n                            <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '13px', marginBottom: '4px' }}>\n                                <span style={{ textTransform: 'capitalize' }}>{p}</span>\n                                <span>{stats.completedByPriority[p]}/{stats.byPriority[p]}</span>\n                            </div>\n                            <div className="progress-bar" style={{ height: '6px' }}>\n                                <div className="progress-fill" style={{ width: `${stats.byPriority[p] > 0 ? (stats.completedByPriority[p] / stats.byPriority[p] * 100) : 0}%` }}></div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n                
                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ“‚ Category Progress</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        {Object.entries(stats.byCategory).slice(0, 5).map(([cat, info]) => (\n                            <div key={cat} style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '4px' }}>\n                                <span style={{ textTransform: 'capitalize' }}>{cat}:</span>\n                                <strong>{info.completed}/{info.total}</strong>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};

// Shopping Analytics Component
const ShoppingAnalytics = ({ shopping }) => {
    const stats = useMemo(() => {
        const allItems = [\n            ...(shopping.bride?.flatMap(s => s.items) || []),\n            ...(shopping.groom?.flatMap(s => s.items) || []),\n            ...(shopping.family?.flatMap(s => s.items) || [])\n        ];\n        \n        const totalItems = allItems.length;\n        const totalBudget = allItems.reduce((sum, i) => sum + (i.budget || 0), 0);\n        const completed = allItems.filter(i => i.status === 'completed').length;\n        const pending = allItems.filter(i => i.status === 'pending').length;\n        const ordered = allItems.filter(i => i.status === 'ordered').length;\n        \n        const byPayment = { bride: 0, groom: 0, split: 0, pending: 0 };\n        allItems.forEach(i => {\n            const cost = i.budget || 0;\n            if (i.paymentResponsibility === 'bride') byPayment.bride += cost;\n            else if (i.paymentResponsibility === 'groom') byPayment.groom += cost;\n            else if (i.paymentResponsibility === 'split') byPayment.split += cost;\n            else byPayment.pending += cost;\n        });\n        \n        const brideItems = shopping.bride?.flatMap(s => s.items).length || 0;\n        const groomItems = shopping.groom?.flatMap(s => s.items).length || 0;\n        const familyItems = shopping.family?.flatMap(s => s.items).length || 0;\n        \n        const completionRate = totalItems > 0 ? (completed / totalItems * 100) : 0;\n        \n        return { totalItems, totalBudget, completed, pending, ordered, byPayment, brideItems, groomItems, familyItems, completionRate };\n    }, [shopping]);\n    
    return (\n        <div className="card">\n            <h3>ğŸ›ï¸ Shopping Analytics</h3>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '12px', marginTop: '16px', marginBottom: '16px' }}>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{stats.totalItems}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Items</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '20px', fontWeight: 'bold' }}>{formatCurrency(stats.totalBudget)}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Budget</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold', color: 'var(--color-success)' }}>{stats.completionRate.toFixed(0)}%</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Completion Rate</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{stats.completed}/{stats.totalItems}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Completed</div>\n                </div>\n            </div>\n            
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px' }}>\n                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ‘°ğŸ¤µ Shopping Distribution</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ‘° Bride Items:</span>\n                            <strong>{stats.brideItems}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ¤µ Groom Items:</span>\n                            <strong>{stats.groomItems}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ‘¨ğŸ‘©ğŸ‘§ğŸ‘¦ Family Items:</span>\n                            <strong>{stats.familyItems}</strong>\n                        </div>\n                    </div>\n                </div>\n                
                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ’° Payment Split</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ‘° Bride:</span>\n                            <strong>{formatCurrency(stats.byPayment.bride)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ¤µ Groom:</span>\n                            <strong>{formatCurrency(stats.byPayment.groom)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ¤ Split:</span>\n                            <strong>{formatCurrency(stats.byPayment.split)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>â³ Pending:</span>\n                            <strong style={{ color: 'var(--color-warning)' }}>{formatCurrency(stats.byPayment.pending)}</strong>\n                        </div>\n                    </div>\n                </div>\n                
                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ“¦ Status Breakdown</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>âœ… Completed:</span>\n                            <strong style={{ color: 'var(--color-success)' }}>{stats.completed}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ“¦ Ordered:</span>\n                            <strong style={{ color: 'var(--color-info)' }}>{stats.ordered}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>â³ Pending:</span>\n                            <strong style={{ color: 'var(--color-warning)' }}>{stats.pending}</strong>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};

// Travel Analytics Component
const TravelAnalytics = ({ travel }) => {
    const stats = useMemo(() => {
        const transport = travel?.transport || [];\n        const totalVehicles = transport.length;\n        const totalSeats = transport.reduce((sum, t) => sum + (t.seats || 0), 0);\n        const totalCost = transport.reduce((sum, t) => sum + (t.totalPrice || 0), 0);\n        const totalKm = transport.reduce((sum, t) => sum + (t.kilometers || 0), 0);\n        \n        const byType = {};\n        transport.forEach(t => {\n            if (!byType[t.vehicleType]) byType[t.vehicleType] = { count: 0, seats: 0, cost: 0 };\n            byType[t.vehicleType].count++;\n            byType[t.vehicleType].seats += t.seats || 0;\n            byType[t.vehicleType].cost += t.totalPrice || 0;\n        });\n        
        const byPayment = { bride: 0, groom: 0, split: 0, pending: 0 };\n        transport.forEach(t => {\n            const cost = t.totalPrice || 0;\n            if (t.paymentResponsibility === 'bride') byPayment.bride += cost;\n            else if (t.paymentResponsibility === 'groom') byPayment.groom += cost;\n            else if (t.paymentResponsibility === 'split') byPayment.split += cost;\n            else byPayment.pending += cost;\n        });\n        
        const costPerKm = totalKm > 0 ? totalCost / totalKm : 0;\n        const costPerSeat = totalSeats > 0 ? totalCost / totalSeats : 0;\n        const avgSeatsPerVehicle = totalVehicles > 0 ? totalSeats / totalVehicles : 0;\n        \n        return { totalVehicles, totalSeats, totalCost, totalKm, byType, byPayment, costPerKm, costPerSeat, avgSeatsPerVehicle };\n    }, [travel]);\n    
    return (\n        <div className="card">\n            <h3>ğŸšŒ Travel Analytics</h3>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '12px', marginTop: '16px', marginBottom: '16px' }}>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{stats.totalVehicles}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Vehicles</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{stats.totalSeats}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Seats</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '20px', fontWeight: 'bold' }}>{formatCurrency(stats.totalCost)}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Cost</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{stats.totalKm}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Kilometers</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '18px', fontWeight: 'bold' }}>{formatCurrency(stats.costPerKm)}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Cost per KM</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '18px', fontWeight: 'bold' }}>{formatCurrency(stats.costPerSeat)}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Cost per Seat</div>\n                </div>\n            </div>\n            
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px' }}>\n                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸš— Vehicle Types</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        {Object.entries(stats.byType).map(([type, info]) => (\n                            <div key={type} style={{ marginBottom: '8px' }}>\n                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '4px' }}>\n                                    <span style={{ textTransform: 'capitalize' }}>{type.replace('_', ' ')}:</span>\n                                    <strong>{info.count} ({info.seats} seats)</strong>\n                                </div>\n                                <div style={{ fontSize: '11px', color: 'var(--color-text-secondary)' }}>\n                                    Cost: {formatCurrency(info.cost)}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n                
                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ’° Payment Split</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ‘° Bride:</span>\n                            <strong>{formatCurrency(stats.byPayment.bride)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ¤µ Groom:</span>\n                            <strong>{formatCurrency(stats.byPayment.groom)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>ğŸ¤ Split:</span>\n                            <strong>{formatCurrency(stats.byPayment.split)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>â³ Pending:</span>\n                            <strong style={{ color: 'var(--color-warning)' }}>{formatCurrency(stats.byPayment.pending)}</strong>\n                        </div>\n                    </div>\n                </div>\n                
                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ“Š Averages</h4>\n                    <div style={{ fontSize: '13px', lineHeight: '1.8' }}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>Seats per vehicle:</span>\n                            <strong>{stats.avgSeatsPerVehicle.toFixed(1)}</strong>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <span>Cost per vehicle:</span>\n                            <strong>{formatCurrency(stats.totalVehicles > 0 ? stats.totalCost / stats.totalVehicles : 0)}</strong>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};

// Ritual Analytics Component
const RitualAnalytics = ({ ritualsAndCustoms }) => {
    const stats = useMemo(() => {
        const preWedding = ritualsAndCustoms?.preWedding || [];\n        const mainCeremonies = ritualsAndCustoms?.mainCeremonies || [];\n        const allRituals = [...preWedding, ...mainCeremonies];\n        
        const totalRituals = allRituals.length;\n        const completed = allRituals.filter(r => r.completed).length;\n        const pending = totalRituals - completed;\n        
        const preWeddingCompleted = preWedding.filter(r => r.completed).length;\n        const mainCompleted = mainCeremonies.filter(r => r.completed).length;\n        
        const completionRate = totalRituals > 0 ? (completed / totalRituals * 100) : 0;\n        const preWeddingRate = preWedding.length > 0 ? (preWeddingCompleted / preWedding.length * 100) : 0;\n        const mainRate = mainCeremonies.length > 0 ? (mainCompleted / mainCeremonies.length * 100) : 0;\n        
        const totalItems = allRituals.reduce((sum, r) => sum + (r.items?.length || 0), 0);\n        \n        return { totalRituals, completed, pending, preWedding: preWedding.length, preWeddingCompleted, mainCeremonies: mainCeremonies.length, mainCompleted, completionRate, preWeddingRate, mainRate, totalItems };\n    }, [ritualsAndCustoms]);\n    
    return (\n        <div className="card">\n            <h3>ğŸª” Ritual Analytics</h3>\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))', gap: '12px', marginTop: '16px', marginBottom: '16px' }}>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold', color: 'var(--color-success)' }}>{stats.completionRate.toFixed(0)}%</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Overall Completion</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold' }}>{stats.completed}/{stats.totalRituals}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Rituals Done</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold', color: 'var(--color-warning)' }}>{stats.pending}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Pending</div>\n                </div>\n                <div style={{ padding: '12px', background: 'var(--color-bg-secondary)', borderRadius: '8px', textAlign: 'center' }}>\n                    <div style={{ fontSize: '28px', fontWeight: 'bold' }}>{stats.totalItems}</div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>Total Items</div>\n                </div>\n            </div>\n            
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px' }}>\n                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸŠ Pre-Wedding Rituals</h4>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '8px' }}>\n                        {stats.preWeddingCompleted}/{stats.preWedding}\n                    </div>\n                    <div className="progress-bar" style={{ height: '8px', marginBottom: '8px' }}>\n                        <div className="progress-fill" style={{ width: `${stats.preWeddingRate}%` }}></div>\n                    </div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>\n                        {stats.preWeddingRate.toFixed(0)}% complete\n                    </div>\n                </div>\n                
                <div style={{ padding: '16px', background: 'var(--color-bg-secondary)', borderRadius: '8px' }}>\n                    <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>ğŸ’’ Main Ceremonies</h4>\n                    <div style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '8px' }}>\n                        {stats.mainCompleted}/{stats.mainCeremonies}\n                    </div>\n                    <div className="progress-bar" style={{ height: '8px', marginBottom: '8px' }}>\n                        <div className="progress-fill" style={{ width: `${stats.mainRate}%` }}></div>\n                    </div>\n                    <div style={{ fontSize: '12px', color: 'var(--color-text-secondary)' }}>\n                        {stats.mainRate.toFixed(0)}% complete\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};
